<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perbandingan Algoritma KMP & Boyer-Moore</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            color: #fff;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        header {
            text-align: center;
            padding: 30px 0;
        }
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .subtitle {
            color: #888;
            font-size: 1rem;
        }
        .card {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
        }
        .card h2 {
            color: #00d4ff;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }
        .input-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            color: #aaa;
        }
        input, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            background: rgba(0,0,0,0.3);
            color: #fff;
            font-size: 1rem;
        }
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        input:focus, textarea:focus {
            outline: none;
            border-color: #00d4ff;
        }
        .btn {
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            color: #fff;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0,212,255,0.3);
        }
        .btn-secondary {
            background: rgba(255,255,255,0.1);
            margin-left: 10px;
        }
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .result-card {
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }
        .result-card.iterative {
            border-left: 4px solid #2ecc71;
        }
        .result-card.recursive {
            border-left: 4px solid #e74c3c;
        }
        .result-card h3 {
            font-size: 0.9rem;
            color: #888;
            margin-bottom: 10px;
        }
        .result-card .time {
            font-size: 2rem;
            font-weight: bold;
            color: #00d4ff;
        }
        .result-card .unit {
            font-size: 0.8rem;
            color: #666;
        }
        .result-card .matches {
            margin-top: 10px;
            font-size: 0.9rem;
            color: #aaa;
        }
        .chart-container {
            margin-top: 30px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 20px;
            height: 400px;
            position: relative;
        }
        .chart-container canvas {
            width: 100% !important;
            height: 100% !important;
        }
        .benchmark-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        .status {
            padding: 10px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
        }
        .status.show {
            display: block;
        }
        .status.success {
            background: rgba(46,204,113,0.2);
            border: 1px solid #2ecc71;
        }
        .status.error {
            background: rgba(231,76,60,0.2);
            border: 1px solid #e74c3c;
        }
        .positions {
            margin-top: 15px;
            padding: 15px;
            background: rgba(0,0,0,0.3);
            border-radius: 8px;
            font-family: monospace;
            font-size: 0.9rem;
            max-height: 100px;
            overflow-y: auto;
        }
        footer {
            text-align: center;
            padding: 30px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üîç Perbandingan Algoritma Pattern Matching</h1>
            <p class="subtitle">KMP & Boyer-Moore (Iteratif vs Rekursif)</p>
        </header>

        <div class="card">
            <h2>üìù Input Pencarian</h2>
            <div class="input-group">
                <label for="textSize">Pilih Ukuran Teks (karakter)</label>
                <select id="textSize" onchange="generateTextBySize()" style="width: 100%; padding: 12px 15px; border: 1px solid rgba(255,255,255,0.2); border-radius: 8px; background: rgba(0,0,0,0.3); color: #fff; font-size: 1rem;">
                    <option value="1">1 karakter</option>
                    <option value="10">10 karakter</option>
                    <option value="20">20 karakter</option>
                    <option value="50">50 karakter</option>
                    <option value="100">100 karakter</option>
                    <option value="200">200 karakter</option>
                    <option value="500" selected>500 karakter</option>
                    <option value="1000">1.000 karakter</option>
                    <option value="2000">2.000 karakter</option>
                    <option value="5000">5.000 karakter</option>
                    <option value="10000">10.000 karakter</option>
                    <option value="custom">Custom (ketik manual)</option>
                </select>
            </div>
            <div class="input-group">
                <label for="text">Teks (tempat pencarian) - <span id="textLength">0</span> karakter</label>
                <textarea id="text" placeholder="Masukkan teks di sini..." oninput="updateTextLength()">Analisis efisiensi dari algoritma algoritma yang diterapkan dengan menentukan kelas kompleksitas waktunya serta dengan menganalisis running time dari kedua program yang telah dibuat dalam berbagai macam ukuran masukan misalkan ukuran masukan satu sepuluh dua puluh hingga sepuluh ribu dan gambarkan grafiknya serta tentukan kelas kompleksitas masing masing algoritma tersebut algoritma KMP dan Boyer Moore adalah dua algoritma pencarian string yang populer algoritma ini digunakan untuk mencari pola dalam teks dengan efisien</textarea>
            </div>
            <div class="input-group">
                <label for="pattern">Pattern (yang dicari)</label>
                <input type="text" id="pattern" placeholder="Masukkan pattern..." value="algoritma">
            </div>
            <button class="btn" onclick="runSearch()">üöÄ Jalankan Pencarian</button>
            <button class="btn btn-secondary" onclick="generateRandom()">üé≤ Random</button>
            
            <div id="status" class="status"></div>
        </div>

        <div class="card">
            <h2>üìä Hasil Perbandingan</h2>
            <div class="results-grid" id="results">
                <div class="result-card iterative">
                    <h3>KMP Iteratif</h3>
                    <div class="time" id="kmp-iter-time">-</div>
                    <div class="unit">mikrodetik</div>
                    <div class="matches" id="kmp-iter-matches">-</div>
                </div>
                <div class="result-card recursive">
                    <h3>KMP Rekursif</h3>
                    <div class="time" id="kmp-rec-time">-</div>
                    <div class="unit">mikrodetik</div>
                    <div class="matches" id="kmp-rec-matches">-</div>
                </div>
                <div class="result-card iterative">
                    <h3>Boyer-Moore Iteratif</h3>
                    <div class="time" id="bm-iter-time">-</div>
                    <div class="unit">mikrodetik</div>
                    <div class="matches" id="bm-iter-matches">-</div>
                </div>
                <div class="result-card recursive">
                    <h3>Boyer-Moore Rekursif</h3>
                    <div class="time" id="bm-rec-time">-</div>
                    <div class="unit">mikrodetik</div>
                    <div class="matches" id="bm-rec-matches">-</div>
                </div>
            </div>
            <div class="positions" id="positions" style="display:none;">
                <strong>Posisi ditemukan:</strong> <span id="pos-list"></span>
            </div>
        </div>

        <div class="card">
            <h2>üìà Benchmark (Berbagai Ukuran Input)</h2>
            <p style="color: #888; margin-bottom: 15px; font-size: 0.9rem;">
                Benchmark menggunakan pattern dari input di atas. Teks akan di-generate secara random sesuai ukuran yang ditentukan.
            </p>
            <div class="benchmark-controls">
                <div class="input-group" style="flex: 1; margin-bottom: 0;">
                    <label for="benchmarkSizes">Ukuran Input (pisahkan dengan koma)</label>
                    <input type="text" id="benchmarkSizes" value="1, 10, 20, 50, 100, 200, 500, 1000, 2000, 5000, 10000" style="width: 100%;">
                </div>
            </div>
            <div class="benchmark-controls">
                <div style="display: flex; align-items: flex-end; gap: 10px;">
                    <button class="btn" onclick="runBenchmark()">‚ñ∂Ô∏è Jalankan Benchmark</button>
                    <button class="btn btn-secondary" onclick="runBenchmarkWithUserText()">üìù Benchmark dengan Teks User</button>
                </div>
            </div>
            <div id="benchmarkStatus" class="status"></div>
            <div class="chart-container">
                <canvas id="chart"></canvas>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                <div class="chart-container" style="height: 300px;">
                    <canvas id="kmpChart"></canvas>
                </div>
                <div class="chart-container" style="height: 300px;">
                    <canvas id="bmChart"></canvas>
                </div>
            </div>
            
            <!-- Tabel Hasil Benchmark -->
            <div id="benchmarkTable" style="display: none; margin-top: 20px; background: rgba(0,0,0,0.3); border-radius: 10px; padding: 20px;"></div>
        </div>

        <div class="card">
            <h2>üìö Analisis Kompleksitas Waktu</h2>
            <div id="analysisSection">
                <p style="color: #888; text-align: center; padding: 20px;">
                    ‚ö†Ô∏è Jalankan benchmark terlebih dahulu untuk melihat analisis perhitungan
                </p>
            </div>
            
            <!-- Teori Kompleksitas dengan Rumus (dinamis) -->
            <div style="margin-top: 20px;" id="theorySection">
                <h3 style="color: #00d4ff; margin-bottom: 15px; font-size: 1rem;">üìñ Teori Kompleksitas & Rumus Perhitungan</h3>
                
                <!-- Rumus Dasar -->
                <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                    <h4 style="color: #f39c12; margin-bottom: 10px;">üìê Variabel</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; color: #aaa;">
                        <div><strong style="color: #00d4ff;">n</strong> = panjang teks (karakter)</div>
                        <div><strong style="color: #00d4ff;">m</strong> = panjang pattern (karakter)</div>
                    </div>
                    <div id="dynamicVariables" style="margin-top: 10px; padding-top: 10px; border-top: 1px solid rgba(255,255,255,0.1); display: none;">
                        <!-- Akan diisi dinamis setelah benchmark -->
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="result-card" style="text-align: left; border-left: 4px solid #2ecc71;">
                        <h3 style="color: #2ecc71; font-size: 1.1rem;">KMP (Knuth-Morris-Pratt)</h3>
                        <p style="margin: 10px 0;"><strong>Kompleksitas Waktu:</strong></p>
                        <ul style="margin-left: 20px; color: #aaa; line-height: 1.8;">
                            <li>Preprocessing (Failure Function): <strong style="color: #2ecc71;">O(m)</strong></li>
                            <li>Searching: <strong style="color: #2ecc71;">O(n)</strong></li>
                            <li>Total: <strong style="color: #2ecc71;">O(n + m)</strong></li>
                        </ul>
                        <div style="margin-top: 15px; padding: 10px; background: rgba(46,204,113,0.1); border-radius: 5px;">
                            <p style="color: #888; font-size: 0.85rem; margin-bottom: 5px;"><strong>Rumus:</strong></p>
                            <code style="color: #2ecc71; font-size: 0.9rem;">T(n,m) = c‚ÇÅ¬∑m + c‚ÇÇ¬∑n</code>
                            <p style="color: #666; font-size: 0.75rem; margin-top: 5px;">c‚ÇÅ, c‚ÇÇ = konstanta waktu operasi</p>
                        </div>
                        <div id="kmpCalculation" style="margin-top: 10px; display: none;">
                            <!-- Perhitungan dinamis -->
                        </div>
                    </div>
                    <div class="result-card" style="text-align: left; border-left: 4px solid #3498db;">
                        <h3 style="color: #3498db; font-size: 1.1rem;">Boyer-Moore</h3>
                        <p style="margin: 10px 0;"><strong>Kompleksitas Waktu:</strong></p>
                        <ul style="margin-left: 20px; color: #aaa; line-height: 1.8;">
                            <li>Best Case: <strong style="color: #3498db;">O(n/m)</strong></li>
                            <li>Worst Case: <strong style="color: #e74c3c;">O(n √ó m)</strong></li>
                            <li>Average Case: <strong style="color: #3498db;">O(n)</strong></li>
                        </ul>
                        <div style="margin-top: 15px; padding: 10px; background: rgba(52,152,219,0.1); border-radius: 5px;">
                            <p style="color: #888; font-size: 0.85rem; margin-bottom: 5px;"><strong>Rumus:</strong></p>
                            <code style="color: #3498db; font-size: 0.9rem;">Best: T(n,m) = n/m</code><br>
                            <code style="color: #e74c3c; font-size: 0.9rem;">Worst: T(n,m) = n √ó m</code>
                            <p style="color: #666; font-size: 0.75rem; margin-top: 5px;">Tergantung distribusi karakter</p>
                        </div>
                        <div id="bmCalculation" style="margin-top: 10px; display: none;">
                            <!-- Perhitungan dinamis -->
                        </div>
                    </div>
                </div>
                
                <!-- Rumus Perbandingan -->
                <div class="result-card" style="margin-top: 20px; text-align: left; border-left: 4px solid #f39c12;">
                    <h3 style="color: #f39c12; font-size: 1.1rem;">üìä Rumus Analisis Perbandingan</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 15px;">
                        <div style="padding: 10px; background: rgba(0,0,0,0.2); border-radius: 5px;">
                            <p style="color: #888; font-size: 0.85rem; margin-bottom: 5px;"><strong>Rata-rata (Mean):</strong></p>
                            <code style="color: #00d4ff; font-size: 0.9rem;">Œº = Œ£t·µ¢ / n</code>
                            <p style="color: #666; font-size: 0.75rem; margin-top: 5px;">t·µ¢ = waktu eksekusi ke-i, n = jumlah pengukuran</p>
                        </div>
                        <div style="padding: 10px; background: rgba(0,0,0,0.2); border-radius: 5px;">
                            <p style="color: #888; font-size: 0.85rem; margin-bottom: 5px;"><strong>Persentase Perbedaan:</strong></p>
                            <code style="color: #00d4ff; font-size: 0.9rem;">Œî% = ((t‚ÇÇ - t‚ÇÅ) / t‚ÇÅ) √ó 100</code>
                            <p style="color: #666; font-size: 0.75rem; margin-top: 5px;">t‚ÇÅ = waktu algoritma 1, t‚ÇÇ = waktu algoritma 2</p>
                        </div>
                        <div style="padding: 10px; background: rgba(0,0,0,0.2); border-radius: 5px;">
                            <p style="color: #888; font-size: 0.85rem; margin-bottom: 5px;"><strong>Rasio Pertumbuhan:</strong></p>
                            <code style="color: #00d4ff; font-size: 0.9rem;">R = T(n_max) / T(n_min)</code>
                            <p style="color: #666; font-size: 0.75rem; margin-top: 5px;">Mengukur seberapa cepat waktu bertambah</p>
                        </div>
                        <div style="padding: 10px; background: rgba(0,0,0,0.2); border-radius: 5px;">
                            <p style="color: #888; font-size: 0.85rem; margin-bottom: 5px;"><strong>Speedup:</strong></p>
                            <code style="color: #00d4ff; font-size: 0.9rem;">S = T_slow / T_fast</code>
                            <p style="color: #666; font-size: 0.75rem; margin-top: 5px;">Berapa kali lebih cepat</p>
                        </div>
                    </div>
                </div>
                
                <!-- Perhitungan Dinamis -->
                <div id="dynamicCalculations" style="margin-top: 20px; display: none;">
                    <!-- Akan diisi setelah benchmark -->
                </div>
                
                <div class="result-card" style="margin-top: 20px; text-align: left; border-left: 4px solid #e74c3c;">
                    <h3 style="color: #e74c3c; font-size: 1.1rem;">‚ö° Iteratif vs Rekursif</h3>
                    <p style="margin: 10px 0; color: #aaa;">
                        <strong>Iteratif:</strong> Lebih efisien karena tidak ada overhead pemanggilan fungsi berulang.<br>
                        <strong>Rekursif:</strong> Memiliki overhead tambahan dari call stack, sehingga lebih lambat terutama pada input besar.
                    </p>
                    <div style="margin-top: 15px; padding: 10px; background: rgba(231,76,60,0.1); border-radius: 5px;">
                        <p style="color: #888; font-size: 0.85rem; margin-bottom: 5px;"><strong>Overhead Rekursif:</strong></p>
                        <code style="color: #e74c3c; font-size: 0.9rem;">T_rec = T_iter + (k √ó stack_overhead)</code>
                        <p style="color: #666; font-size: 0.75rem; margin-top: 5px;">k = kedalaman rekursi, stack_overhead = waktu push/pop stack</p>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>Tugas Besar - Analisis Kompleksitas Algoritma KMP dan Boyer-Moore</p>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="algorithms.js"></script>
    <script src="app.js"></script>
</body>
</html>
